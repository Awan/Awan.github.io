<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>How to install CRUX with encryption - Abdullah Khabir</title><meta name="Description" content="Encrypted CRUX installation"><meta property="og:title" content="How to install CRUX with encryption" />
<meta property="og:description" content="Encrypted CRUX installation" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://abdullah.today/encrypted-crux/" /><meta property="og:image" content="https://abdullah.today/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-12T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://abdullah.today/logo.png"/>

<meta name="twitter:title" content="How to install CRUX with encryption"/>
<meta name="twitter:description" content="Encrypted CRUX installation"/>
<meta name="application-name" content="Abdullah Khabir">
<meta name="apple-mobile-web-app-title" content="Abdullah Khabir"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://abdullah.today/encrypted-crux/" /><link rel="prev" href="https://abdullah.today/github-readme/" /><link rel="next" href="https://abdullah.today/crux/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "How to install CRUX with encryption",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/abdullah.today\/encrypted-crux\/"
        },"image": ["https:\/\/abdullah.today\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "encrypted crux, encryption, luks, lvm, encrypted laptop, source based distros, crux","wordcount":  1288 ,
        "url": "https:\/\/abdullah.today\/encrypted-crux\/","datePublished": "2020-05-12T00:00:00+00:00","dateModified": "2020-05-12T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Abdullah Khabir","logo": "https:\/\/abdullah.today\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Abdullah Khabir"
            },"description": "Encrypted CRUX installation"
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Abdullah Khabir"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Allah is the Greatest!</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/" title="Some reminders"> InfoSec </a><a class="menu-item" href="/quran/"> Quran </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Start typing to search..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Abdullah Khabir"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Allah is the Greatest!</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Start typing to search..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="Some reminders">InfoSec</a><a class="menu-item" href="/quran/" title="">Quran</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><script data-ad-client="ca-pub-6819322586059940" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">How to install CRUX with encryption</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://abdullah.today" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Abdullah Khabir</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-05-12">2020-05-12</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1288 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;7 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#how-to-install-fully-encrypted-crux">How to install fully encrypted CRUX</a></li>
    <li><a href="#partitioning">Partitioning</a></li>
    <li><a href="#unencrypted-boot-partition">Unencrypted Boot Partition</a></li>
    <li><a href="#encrypted-partition">Encrypted Partition</a></li>
    <li><a href="#base-system-installation">Base system installation</a></li>
    <li><a href="#chroot">Chroot</a></li>
    <li><a href="#fstab">fstab</a></li>
    <li><a href="#locales">locales</a></li>
    <li><a href="#rcconf">rc.conf</a></li>
    <li><a href="#resolvconf">resolv.conf</a></li>
    <li><a href="#wifi">wifi</a></li>
    <li><a href="#kernel">Kernel</a></li>
    <li><a href="#users-and-package-management">Users and package management</a></li>
    <li><a href="#root-password-and-a-normal-user">Root password and a normal user</a></li>
    <li><a href="#give-new-user-sudo-access">Give new user sudo access</a></li>
    <li><a href="#user-for-creating-packages">User for creating packages</a></li>
    <li><a href="#fakeroot">fakeroot</a></li>
    <li><a href="#dracut">Dracut</a></li>
    <li><a href="#bootloader">Bootloader</a></li>
    <li><a href="#congrats">Congrats!</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="how-to-install-fully-encrypted-crux">How to install fully encrypted CRUX</h2>
<p>This post is for crux users who wanna secure their crux installation.</p>
<h2 id="partitioning">Partitioning</h2>
<p>I&rsquo;m gonna use two partitions. First boot partition will be unencrypted which holds kernel. I use secure boot with my own keys. You can find a post in my blog how to do that. and I have some ports too for secure boot. </p></p>
<script
  async
  src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
>
</script>
<ins
  class="adsbygoogle"
  style="display:block; text-align:center;"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-6819322586059940"
  data-ad-slot="8253681033"
>
</ins>
<script>
  ;(adsbygoogle = window.adsbygoogle || []).push({})
</script>

<h2 id="unencrypted-boot-partition">Unencrypted Boot Partition</h2>
<script
  async
  src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
>
</script>
<ins
  class="adsbygoogle"
  style="display:block; text-align:center;"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-6819322586059940"
  data-ad-slot="8253681033"
>
</ins>
<script>
  ;(adsbygoogle = window.adsbygoogle || []).push({})
</script>

<p>Create a partition more than 200 Mbs for boot ESP with gdisk code ef00.</p>
<p>Let&rsquo;s create a FAT filesystem on it for EFI.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">```bash
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># mkfs.fat -F32 /dev/sda1
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="encrypted-partition">Encrypted Partition</h2>
<p>Create an encrypted LUKS container</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># cryptsetup luksFormat /dev/sda2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Type uppercase &ldquo;YES&rdquo; and then enter passphrase two times.</p>
<p>Open the encrypted container.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># cryptsetup open /dev/sda2 crux</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now the encrypted container is available at /dev/mapper/crux so lets create some lvm stuff and create filesystems and a swap partition.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># pvcreate /dev/mapper/crux</span>
</span></span><span class="line"><span class="cl"><span class="c1"># vgcreate ak /dev/mapper/crux</span>
</span></span><span class="line"><span class="cl"><span class="c1"># lvcreate -L 8G ak -n swap</span>
</span></span><span class="line"><span class="cl"><span class="c1"># lvcreate -L 50G ak -n root</span>
</span></span><span class="line"><span class="cl"><span class="c1"># lvcreate -l 100%FREE ak -n home</span>
</span></span><span class="line"><span class="cl"><span class="c1"># mkfs.ext4 /dev/ak/root -L crux-root</span>
</span></span><span class="line"><span class="cl"><span class="c1"># mkfs.ext4 /dev/ak/home -L crux-home</span>
</span></span><span class="line"><span class="cl"><span class="c1"># mkswap /dev/ak/swap -L crux-swap</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Mount the partitions and start installations.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mount /dev/mapper/ak-root /mnt</span>
</span></span><span class="line"><span class="cl"><span class="c1"># mkdir /mnt/{boot,home}</span>
</span></span><span class="line"><span class="cl"><span class="c1"># mount /dev/mapper/ak-home /mnt/home</span>
</span></span><span class="line"><span class="cl"><span class="c1"># mount /dev/sda1 /mnt/boot</span>
</span></span><span class="line"><span class="cl"><span class="c1"># swapon /dev/mapper/ak-swap</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="base-system-installation">Base system installation</h2>
<p>Start installation. Type &ldquo;setup&rdquo; and select &ldquo;YES&rdquo;. Install all packages. Make sure you get no error messages once installation is finished.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># setup</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="chroot">Chroot</h2>
<p>Enter chroot.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># setup-chroot</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="fstab">fstab</h2>
<p>Check fstab by going to /etc/fstab. Open it with vim. You&rsquo;ll see two uncommented entries there. Leave them as it is. In vim prompt mode just type :r! blkid and you&rsquo;ll get UUIDs of all partitions. Add them there for root, home, boot and swap partitions.</p>
<h2 id="locales">locales</h2>
<p>Generate locales.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># localedef -i en_US -f ISO-8859-1 en_US</span>
</span></span><span class="line"><span class="cl"><span class="c1"># localedef -i en_US -f ISO-8859-1 en_US.ISO-8859-1</span>
</span></span><span class="line"><span class="cl"><span class="c1"># localedef -i en_US -f UTF-8 en_US.UTF-8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="rcconf">rc.conf</h2>
<p>Edit rc.conf. Mine looks like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># vim /etc/rc.conf</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /etc/rc.conf: system configuration</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">FONT</span><span class="o">=</span>ter-v22n
</span></span><span class="line"><span class="cl"><span class="nv">KEYMAP</span><span class="o">=</span>us
</span></span><span class="line"><span class="cl"><span class="nv">TIMEZONE</span><span class="o">=</span>Asia/Karachi
</span></span><span class="line"><span class="cl"><span class="nv">HOSTNAME</span><span class="o">=</span>cruz
</span></span><span class="line"><span class="cl"><span class="nv">SYSLOG</span><span class="o">=</span>sysklogd
</span></span><span class="line"><span class="cl"><span class="nv">SERVICES</span><span class="o">=(</span>crond wifi acpid <span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># End of file</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">:wq
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="resolvconf">resolv.conf</h2>
<p>Edit /etc/resolv.conf. I&rsquo;m using OpenDNS nameserver here.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># vim /etc/resolv.conf</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">nameserver 208.67.222.222
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">:wq
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="wifi">wifi</h2>
<p>For wireless connection, you can use wpa_supplicant. For example if your interface is wlp3s0 and SSID is nix, add passphrase to it using wpa_passphrase like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># wpa_passphrase nix &gt;&gt; /etc/wpa_supplicant.conf</span>
</span></span><span class="line"><span class="cl">Reading from STDIN  <span class="c1"># Type your passphrase.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># wpa_supplicant -i wlp3s0 -B -c /etc/wpa_supplicant.conf</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dhcpcd wlp3s0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="kernel">Kernel</h2>
<p>Compile the kernel now. Go to the /usr/src/linux directory. Configure the kernel config. Since we are gonna have an encrypted installation, we need some extra drivers. Invoke &lsquo;make menuconfig&rsquo; and enable these options. And also enable what is needed for your hardware. I&rsquo;ll add only options needed for encryption here.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">General setup ---&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="o">[</span>*<span class="o">]</span> Initial RAM filesystem and RAM disk <span class="o">(</span>iniramfs/initrd<span class="o">)</span> support
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device Drivers ---&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Multiple devices driver support <span class="o">(</span>RAID and LVM<span class="o">)</span> ---&gt;
</span></span><span class="line"><span class="cl">    <span class="o">[</span>*<span class="o">]</span> Device mapper support
</span></span><span class="line"><span class="cl">    <span class="o">[</span>*<span class="o">]</span> Crypt target support
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Cryptographic API ---&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  -*- CBC support
</span></span><span class="line"><span class="cl">  &lt;*&gt; SHA224 and SHA256 digest algorithm
</span></span><span class="line"><span class="cl">  &lt;*&gt; AES cipher algorithms
</span></span></code></pre></td></tr></table>
</div>
</div><p>You can get my kernel config from <a href="https://gitlab.com/Abdullah/cfg/raw/master/kernel/config" target="_blank" rel="noopener noreffer">https://gitlab.com/Abdullah/cfg/raw/master/kernel/config</a> by using wget and then edit it as per your hardware. This one is for Thinkpad with SSD.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># wget https://gitlab.com/Abdullah/cfg/raw/master/kernel/config &gt; .config</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>After you&rsquo;re done with configuring kernel, compile it. Once it&rsquo;s compiled, copy it to /boot directory and install modules.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># make -j8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># make modules_install</span>
</span></span><span class="line"><span class="cl"><span class="c1"># cp arch/x86/boot/bzImage /boot/vmlinuz</span>
</span></span><span class="line"><span class="cl"><span class="c1"># cp System.map /boot</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="users-and-package-management">Users and package management</h2>
<h2 id="root-password-and-a-normal-user">Root password and a normal user</h2>
<p>Set root password. Create our first user. And then we will create a second user for package management.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># passwd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># useradd -G wheel,audio,video -m -U abdullah</span>
</span></span><span class="line"><span class="cl"><span class="c1"># passwd abdullah</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="give-new-user-sudo-access">Give new user sudo access</h2>
<p>Add new created user to sudoers. Uncomment this line in /etc/sudoers.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">%wheel <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="user-for-creating-packages">User for creating packages</h2>
<p>Now let&rsquo;s create a user for package management.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># groupadd pkgmk</span>
</span></span><span class="line"><span class="cl"><span class="c1"># useradd -m -g pkgmk pkgmk</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Add our user to this newly created group.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># usermod -aG pkgmk abdullah</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="fakeroot">fakeroot</h2>
<p>Edit /etc/prt-get.conf to set up fakeroot building.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># makecommand sudo -H -u pkgmk /usr/bin/fakeroot /usr/bin/pkgmk</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Edit /etc/pkgmk.conf.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># vim /etc/pkgmk.conf</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">PKGMK_SOURCE_DIR</span><span class="o">=</span><span class="s2">&#34;/home/pkgmk/distfiles&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">PKGMK_PACKAGE_DIR</span><span class="o">=</span><span class="s2">&#34;/home/pkgmk/packages&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">PKGMK_WORK_DIR</span><span class="o">=</span><span class="s2">&#34;/home/pkgmk/work/</span><span class="nv">$name</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">:wq
</span></span></code></pre></td></tr></table>
</div>
</div><p>Create those directories.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># mkdir /home/pkgmk/{distfiles,packages,work}</span>
</span></span><span class="line"><span class="cl"><span class="c1"># chown pkgmk:pkgmk /home/pkgmk/*</span>
</span></span><span class="line"><span class="cl"><span class="c1"># chmod 775 /home/pkgmk/*</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Enable contrib repository.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># mv /etc/ports/contrib.rsync.inactive /etc/ports/contrib.rsync</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Add my custom ports repository.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># echo &#34;ROOT_DIR=/usr/ports/ak\nURL=https://abdullah.today/ports&#34; &gt; /etc/ports/ak.httpup</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Enable contrib and my repository by editing /etc/prt-get.conf. Uncomment the line which says &ldquo;prtdir /usr/ports/contrib&rdquo; and add this line on top of the other port directories path. &ldquo;prtdir /usr/ports/ak&rdquo;. Also don&rsquo;t forget to uncomment the line which says, &ldquo;runscripts yes&rdquo;. After editing the file, it should be look like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">###</span>
</span></span><span class="line"><span class="cl"><span class="c1">### prt-get conf</span>
</span></span><span class="line"><span class="cl"><span class="c1">###</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># note: the order matters: the package found first is used</span>
</span></span><span class="line"><span class="cl">prtdir /usr/ports/ak
</span></span><span class="line"><span class="cl">prtdir /usr/ports/core
</span></span><span class="line"><span class="cl">prtdir /usr/ports/opt
</span></span><span class="line"><span class="cl">prtdir /usr/ports/xorg
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># the following line enables the multilib compat-32 collection</span>
</span></span><span class="line"><span class="cl"><span class="c1">#prtdir /usr/ports/compat-32</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># the following line enables the user maintained contrib collection</span>
</span></span><span class="line"><span class="cl">prtdir /usr/ports/contrib
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### use mypackage form local directory</span>
</span></span><span class="line"><span class="cl"><span class="c1"># prtdir /home/packages/build:mypackage</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### log options:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># writelog enabled         # (enabled|disabled)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># logmode  overwrite       # (append|overwrite)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># rmlog_on_success yes     # (no|yes)</span>
</span></span><span class="line"><span class="cl">logfile  /var/log/pkgbuild/%n.log
</span></span><span class="line"><span class="cl">                           <span class="c1"># path, %p=path to port dir, %n=port name</span>
</span></span><span class="line"><span class="cl">                           <span class="c1">#       %v=version, %r=release</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### use alternate cache file (default: /var/lib/pkg/prt-get.cache</span>
</span></span><span class="line"><span class="cl"><span class="c1"># cachefile /mnt/nfs/cache</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### print README information:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># readme verbose           # (verbose|compact|disabled)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### prefer higher versions in sysup / diff</span>
</span></span><span class="line"><span class="cl"><span class="c1"># preferhigher no      # (yes|no)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### use regexp search</span>
</span></span><span class="line"><span class="cl"><span class="c1"># useregex no        # (yes|no)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### run pre- and post-installs scripts; yes is equivalent to the</span>
</span></span><span class="line"><span class="cl"><span class="c1">### --install-scripts option</span>
</span></span><span class="line"><span class="cl">runscripts yes            <span class="c1"># (no|yes)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### EXPERT SECTION ###</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### alternative commands</span>
</span></span><span class="line"><span class="cl"><span class="c1"># makecommand      pkgmk</span>
</span></span><span class="line"><span class="cl"><span class="c1"># addcommand       pkgadd</span>
</span></span><span class="line"><span class="cl"><span class="c1"># removecommand    pkgrm</span>
</span></span><span class="line"><span class="cl"><span class="c1"># runscriptcommand sh</span>
</span></span><span class="line"><span class="cl">makecommand sudo -H -u pkgmk /usr/bin/fakeroot /usr/bin/pkgmk
</span></span></code></pre></td></tr></table>
</div>
</div><p>Sync ports now.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ports -u</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Get fakeroot installed if you don&rsquo;t have yet.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># prt-get install fakeroot</span>
</span></span></code></pre></td></tr></table>
</div>
</div><script
  async
  src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
>
</script>
<ins
  class="adsbygoogle"
  style="display:block; text-align:center;"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-6819322586059940"
  data-ad-slot="8253681033"
>
</ins>
<script>
  ;(adsbygoogle = window.adsbygoogle || []).push({})
</script>

<h2 id="dracut">Dracut</h2>
<p>Get dracut and create an initramfs.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># prt-get depinst dracut</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dracut initramfs.img</span>
</span></span></code></pre></td></tr></table>
</div>
</div><script
  async
  src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
>
</script>
<ins
  class="adsbygoogle"
  style="display:block; text-align:center;"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-6819322586059940"
  data-ad-slot="8253681033"
>
</ins>
<script>
  ;(adsbygoogle = window.adsbygoogle || []).push({})
</script>

<h2 id="bootloader">Bootloader</h2>
<p>I&rsquo;m using EFISTUB. If you&rsquo;re using some other boot manager like grub, consult their wiki. There are some dracut related variables in this example. I&rsquo;d recommand, create a new file with vim, and then in prompt mode, type :r! blkid so you&rsquo;ll get all UUIDs there in the file. Just copy them in the new file, delete other lines and save it. Then redirect this file&rsquo;s output to shell like this, &lsquo;cat newCreatedFile | sh&rsquo;. It will create a new entry. root-UUID=, rd.luks.uuid=, and rd.lvm.vg=. For EFISTUB, create an entry like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># efibootmgr --create --disk /dev/sda --part 1 --label &#39;CRUX-Encrypted&#39; --loader /vmlinuz --unicode &#34;root=UUID=XXXX-XXXX-XXXX-XXX rw resume=UUID=XXXX-XXXX-XXXX-XXXX rd.luks.uuid=XXXX-XXXX-XXXX-XXXX rd.lvm.vg=ak&#34; --verbose</span>
</span></span></code></pre></td></tr></table>
</div>
</div><script
  async
  src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
>
</script>
<ins
  class="adsbygoogle"
  style="display:block; text-align:center;"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-6819322586059940"
  data-ad-slot="8253681033"
>
</ins>
<script>
  ;(adsbygoogle = window.adsbygoogle || []).push({})
</script>

<h2 id="congrats">Congrats!</h2>
<p>Congrats! You have now a fully encrypted system. Reboot now. If you have some problems, just send me an email and I&rsquo;ll be glad to help.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-05-12</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://abdullah.today/encrypted-crux/" data-title="How to install CRUX with encryption" data-via="AbdullahToday" data-hashtags="encrypted crux,encryption,luks,lvm,encrypted laptop,source based distros,crux"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://abdullah.today/encrypted-crux/" data-hashtag="encrypted crux"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://abdullah.today/encrypted-crux/" data-title="How to install CRUX with encryption"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://abdullah.today/encrypted-crux/" data-title="How to install CRUX with encryption"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://abdullah.today/encrypted-crux/" data-title="How to install CRUX with encryption"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/encrypted-crux/">encrypted crux</a>,&nbsp;<a href="/tags/encryption/">encryption</a>,&nbsp;<a href="/tags/luks/">luks</a>,&nbsp;<a href="/tags/lvm/">lvm</a>,&nbsp;<a href="/tags/encrypted-laptop/">encrypted laptop</a>,&nbsp;<a href="/tags/source-based-distros/">source based distros</a>,&nbsp;<a href="/tags/crux/">crux</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/github-readme/" class="prev" rel="prev" title="How to include a screenshot in Github README"><i class="fas fa-angle-left fa-fw"></i>How to include a screenshot in Github README</a>
            <a href="/crux/" class="next" rel="next" title="CRUX">CRUX<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="fb-root" class="comment"></div>
            <div
                class="fb-comments"
                data-href="https://abdullah.today/encrypted-crux/"
                data-width="100%"
                data-numposts="10"
            ></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://developers.facebook.com/docs/plugins/comments/"></a>Facebook</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://abdullah.today" target="_blank">Abdullah Khabir</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v5.0&amp;appId=457812464807680&amp;autoLogAppEvents=1" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"search":{"algoliaAppID":"3L4LIEJSP4","algoliaIndex":"index-en","algoliaSearchKey":"5d79bed67aeb5ed5e5a990cfad81ebde","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
